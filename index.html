<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GFS Resonance Audio Test</title>


    <script src="https://cdn.jsdelivr.net/npm/resonance-audio/build/resonance-audio.min.js"></script>

    <script>
       


        var x = 0.0;
        var y = 0.0;
        var z = 0.0;

       
        let audioContext = new AudioContext();

        // first-order Ambisonic Resonance Audio scene 
        let resonanceAudioScene = new ResonanceAudio(audioContext);

        // Connect the scene’s binaural output to stereo out.
        resonanceAudioScene.output.connect(audioContext.destination);

		//Raum Größe und Material
        let roomDimensions = {
            width: 3.1,
            height: 2.5,
            depth: 3.4,
        };

       
			let roomMaterials = {
            
            left: 'metal',
            right: 'curtain-heavy',
            front: 'curtain-heavy',
            back: 'curtain-heavy',
            // Room floor
            down: 'grass',
            // Room ceiling
            up: 'grass',
        };

        
        resonanceAudioScene.setRoomProperties(roomDimensions, roomMaterials);

		
        //Laugh audio
      
        let audioElement = document.createElement('audio');

        
        audioElement.src = 'Cat.wav';
        audioElement.loop = true;
        let audioElementSource = audioContext.createMediaElementSource(audioElement);
        let source = resonanceAudioScene.createSource();
        audioElementSource.connect(source.input);
        source.setPosition(x, y, z);
        source.setMaxDistance(3);

        //  Cat
        let audioElement2 = document.createElement('audio');
        audioElement2.src = 'Test/bird.wav';
        audioElement2.loop = true;
        let audioElementSource2 = audioContext.createMediaElementSource(audioElement2);
        let source2 = resonanceAudioScene.createSource();
        audioElementSource2.connect(source2.input);
        source2.setPosition(0,0,0);
        source2.setMaxDistance(3);


        // Bird 
        let audioElement3 = document.createElement('audio');
        audioElement3.src = 'rain.wav';
        audioElement3.loop = false;
        let audioElementSource3 = audioContext.createMediaElementSource(audioElement3);
        let source3 = resonanceAudioScene.createSource();
        audioElementSource3.connect(source3.input);
        source3.setPosition(0.5,0,1);
        source3.setMaxDistance(3);

     
        audioElement2.play();

     //   setInterval(()=>{
     //       //randomly position bird  -1 to +1 x/y relative to the listeners location every 4 seconds
     //       source3.setPosition(x + Math.random() * 2 - 1 ,y + Math.random() * 2 - 1,1);
     //       audioElement3.play();
     //   },4000);

        //resonanceAudioScene.setListenerPosition(x,y,z);
        

    </script>
</head>
<body>

	 


</body>
</html>